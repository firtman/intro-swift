{"pageProps":{"post":{"attributes":{},"html":"<p>To add a search or filter to our product list, we can update our Category file and then the MenuPage with a <code>searchable</code> modifier and a corresponding <code>@State</code> binding variable.</p>\n<h2 id=\"category\">Category</h2>\n<pre><code class=\"hljs language-swift\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title class_\">Category</span>: <span class=\"hljs-title class_\">Decodable</span>, <span class=\"hljs-title class_\">Identifiable</span> {\n    <span class=\"hljs-keyword\">var</span> id: <span class=\"hljs-type\">String</span> { name }\n    <span class=\"hljs-keyword\">var</span> name: <span class=\"hljs-type\">String</span>\n    <span class=\"hljs-keyword\">var</span> products: [<span class=\"hljs-type\">Product</span>] <span class=\"hljs-operator\">=</span> []\n    \n    <span class=\"hljs-keyword\">func</span> <span class=\"hljs-title function_\">filteredItems</span>(<span class=\"hljs-params\">text</span>: <span class=\"hljs-type\">String</span>) -&gt; [<span class=\"hljs-type\">Product</span>] {\n        <span class=\"hljs-keyword\">if</span> text.count <span class=\"hljs-operator\">&gt;</span> <span class=\"hljs-number\">0</span> {\n            <span class=\"hljs-keyword\">return</span> items.filter({ item <span class=\"hljs-keyword\">in</span>\n                item.name.contains(text)\n            })\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-keyword\">return</span> items\n        }\n    }\n}\n</code></pre>\n<h2 id=\"menupage\">MenuPage</h2>\n<pre><code class=\"hljs language-swift\"><span class=\"hljs-comment\">// Add the State variable</span>\n<span class=\"hljs-meta\">@State</span> <span class=\"hljs-keyword\">var</span> search: <span class=\"hljs-type\">String</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;&quot;</span>\n</code></pre>\n<pre><code class=\"hljs language-swift\"> <span class=\"hljs-comment\">// Replace the ForEach</span>\n<span class=\"hljs-type\">ForEach</span>(menuManager.menu) { category <span class=\"hljs-keyword\">in</span>\n    <span class=\"hljs-keyword\">if</span> category.filteredItems(text: search).count <span class=\"hljs-operator\">&gt;</span> <span class=\"hljs-number\">0</span> {\n        <span class=\"hljs-type\">Text</span>(category.name)\n        .listRowBackground(<span class=\"hljs-type\">Color</span>(<span class=\"hljs-string\">&quot;Background&quot;</span>))\n        .foregroundColor(<span class=\"hljs-type\">Color</span>(<span class=\"hljs-string\">&quot;Secondary&quot;</span>))\n        .padding()\n    }\n    \n    <span class=\"hljs-type\">ForEach</span>(category.filteredItems(text: search)) { item <span class=\"hljs-keyword\">in</span>\n        <span class=\"hljs-type\">ZStack</span> {\n            <span class=\"hljs-type\">NavigationLink</span>(destination: <span class=\"hljs-type\">DetailsPage</span>(product: item)) {\n                <span class=\"hljs-type\">EmptyView</span>()\n            }.opacity(<span class=\"hljs-number\">0</span>)\n            <span class=\"hljs-type\">ProductItem</span>(product: item)\n                .padding(.top)\n                .padding(.leading)\n                .padding(.bottom, <span class=\"hljs-number\">12</span>)\n\n        }\n        \n    }\n}\n</code></pre>\n<pre><code class=\"hljs language-swift\"> <span class=\"hljs-comment\">// Add to the List</span>\n .searchable(text: <span class=\"hljs-variable\">$search</span>)\n</code></pre>\n","slug":"bonus-filter","title":"Bonus Filter","section":"Using APIs and JSON","icon":"bridge","filePath":"/home/runner/work/intro-swift/intro-swift/lessons/06-using-APIs-and-JSON/D-bonus-filter.md","nextSlug":"/intro-swift/lessons/connecting-to-a-webapp/using-WKWebView","prevSlug":"/intro-swift/lessons/using-APIs-and-JSON/bonus-likes"}},"__N_SSG":true}